# Results

```{r}
df = read.csv("Speed Dating Data.csv")

library(tidyverse)
library(patchwork)
library(RColorBrewer)
library(GGally)
```

## Representation of paricipants by different categories

First, let us check the representation of our participants. This answers the question if the sample of students participating in this research experiment is truly randomized. This can help us know if there is/are a group of people that is/are over-represented. In other words, it tells us about the selection bias.

We have chosen four characteristics of the participants: field of study, age, race, and intended career. Here are the bar plots for the same.

*Note: The field, race, and career codes are summarized in the [data key](https://github.com/amruthasundar/final-edav-project/blob/main/Speed%20Dating%20Data%20Key.doc).*

```{r fig.width=12, fig.height=9}
df_by_field = df %>% 
  group_by(field_cd) %>% 
  summarise(count = n()) %>% 
  mutate(per = count*100/sum(count))

df_by_field$field_cd = as.factor(df_by_field$field_cd)

g_by_field = ggplot(df_by_field, aes(x = field_cd, y = per)) +
  geom_bar(stat = "identity", color = "#77D86C", fill = "#B3ECAD", alpha = 0.9) +
  xlab("Field of Study") +
  ylab("Percentage of participants") +
  ggtitle("Representation of participants by field of study")

df_by_age = df %>% 
  group_by(iid) %>% 
  select(iid, age)

df_by_age = unique(df_by_age)

g_by_age = ggplot(df_by_age, aes(x = age)) +
  geom_bar(color = "#77D86C", fill = "#B3ECAD", alpha = 0.9) +
  #scale_x_binned() +
  xlab("Age Group") +
  ylab("Number of participants") +
  ggtitle("Representation of participants by age")

df_by_race = df %>% 
  group_by(iid) %>% 
  select(iid, race)

df_by_race$race = as.factor(df_by_race$race)

g_by_race = ggplot(df_by_race, aes(x = race)) +
  geom_bar(color = "#77D86C", fill = "#B3ECAD", alpha = 0.9, binwidth = 5) +
  xlab("Race") +
  ylab("Number of participants") +
  ggtitle("Representation of participants by race")

df_by_career = df %>% 
  group_by(iid) %>% 
  select(iid, career_c)

df_by_career = unique(df_by_career)
df_by_career$career_c = as.factor(df_by_career$career_c)

g_by_career = ggplot(df_by_career, aes(x = career_c)) +
  geom_bar(color = "#77D86C", fill = "#B3ECAD", alpha = 0.9) +
  xlab("Intended Career") +
  ylab("Number of participants") +
  ggtitle("Representation of participants by intended career")

plot = (g_by_field | g_by_age)/(g_by_race | g_by_career)
plot



```


Here are the inferences from these plots:
  
  **1. For field of study**
  
  We can see that about 23% of the participants are from the 8th field of study, which is Business/Econ/Finance. This represents the highest percentage of students. Considering that this experiment was conducted by professors from the Columbia Business School, a lot of students from that field were expected. This is followed by fields 10 (Biological Sciences/Chemistry/Physics) and 5 (Engineering) representing the 2nd and 3rd highest percentages.

The 17th field of study, which is Architecture, constitutes about less than 1% of the participants. This is the least represented group in terms of field of study. Before that, comes field 12 (undecided), before which comes field 18 (other).

**2. For age group**
  
  We can observe that most students are between the age 20 and 30, with about 68 people with age around 27. Almost all the participants are between 18 and 39 years of age, with the exception of a few of age 42 and 55.

**3. For race**
  
  We can observe that race 2, which is European/Caucasian-American is the highest represented group here, which has about 4700 participants. Second most highest represented race is 4, i.e., Asian/Pacific Islander/Asian-American with about 2000 participants.

The count for race not specified is the least among all the races. Apart from that, the least represented race is Black/African American with about 450 participants.

**4. For intended career**
  
  Here, we can observe that the intended career of most students is career 2 and 7, i.e., Academic/Research and Banking/Consulting/Finance/Marketing/Business/CEO/Entrepreneur/Admin respectively. They constitute for about 155 and 135 participants respectively. The least represented career field is career 17, which is Architecture. Similar trend was seen in the representation by field of study.


## Number of yes matches per participant

In the original experiment, the variable `match` is the target variable. This indicates if the person was matched to the other person or not. We can use a Cleveland dot plot to show the number of yes matches each participant got. As mentioned before, we are using waves 10-21. Moreover, we faceted them by waves and color coded by the gender so we can also understand patterns among genders and within individual waves.

```{r fig.width=12, fig.height=40}
df_match_total = df %>% 
  filter(wave %in% (10:21)) %>% 
  select(iid, match, wave, gender) %>% 
  group_by(iid) %>% 
  mutate(yes = sum(match))

df_match_total = unique(df_match_total)
df_match_total$iid = as.factor(df_match_total$iid)
df_match_total$wave = as.factor(df_match_total$wave)
df_match_total$gender = factor(df_match_total$gender,
                               levels = c(0,1),
                               labels = c("female","male"))
g_match_total = ggplot(df_match_total, aes(x = yes, y = reorder(iid, yes), color = gender)) +
  geom_point(size = 3) +
  scale_x_continuous(limits = c(0, 15), breaks = seq(0, 15, 5)) +
  facet_grid(rows = vars(wave), scales = "free_y", space = "free_y") +
  scale_colour_manual(values = c("#77D86C", "#DD8C75")) +
  theme_bw() +
  theme(panel.grid.major.x = element_blank(),
        panel.grid.minor.x = element_blank(),
        panel.grid.major.y = element_line(colour = "grey60", linetype = "dashed")) +
  xlab("Number of yes matches") +
  ylab("Participant ID number") +
  ggtitle("Number of yes matches per person faceted by wave",
          subtitle = "For waves 10-21 (color-coded by gender)")

g_match_total
```

Here, we can observe that the maximum number of yes matches of participants in waves 10 and 13 is always less than 5. Also, the highest number of matches for waves 20 and 18 is 3. Waves 11, 14, 15, 18 and 21 have a wide variety of matches for different people.

Moreover, all waves have participants who are not matched with other people. The number of participants across all waves who did not get matched seem to have an even number of males and females. The most matched participant is a female from wave 21 who got 14 matches.


## Change of feature perception with time

Here, our objective is to find that if a participant's perspective (ratings) on which features they are looking for in the opposite sex change with time, especially before and after the speed dating experiment. For this part, we chose one question in particular from the survey: *What you look for in the opposite sex.*

Now, this question was asked to the same people multiple times. We specifically choose three times. The times we chose were: 

1) Asked before the speed dating experiment

2) Asked the day after the speed dating experiment

3) Asked 3-4 weeks after the speed dating experiment

To answer our question, we decided to use parallel coordinate axis plots since it helps us to visualize multiple variables at once and also account for correlations among the variables by comparing the direction of the lines (which are our participants in this case). Again, we used waves 10-21 for this plot.

We did this for each of the five features: Attractiveness, Sincerity, Intelligence, Fun, and Ambition. We normalized the values of each variable in the plots using the `uniminmax` scale. We did not use splines because we believe we lost information if we include it.

Here are the plots:

```{r fig.width=10, fig.height=10}
col_common = c("iid", "pid", "gender", "match", "age", "field", "race", "from", "income", "goal", "career", "wave")
df_a = df[c(col_common, "attr1_1", "sinc1_1", "intel1_1", "fun1_1", "amb1_1",
                            "attr1_2", "sinc1_2", "intel1_2", "fun1_2", "amb1_2",
                            "attr1_3", "sinc1_3", "intel1_3", "fun1_3", "amb1_3")]

df_a <- df_a[which(df_a$wave >= 10),]
df_a$iid = as.factor(df_a$iid)

df_1_a = df_a %>% 
  select(iid, attr1_1, attr1_2, attr1_3, match)
df_1_a = unique(df_1_a)

g_1_a = ggparcoord(df_1_a, columns = c(2:4), scale = "uniminmax", alphaLines = 0.75) +
  xlab("Variables") +
  ylab("Normalized ratings/match values") +
  ggtitle("Perception of Attractiveness with time")




df_1_b = df_a %>% 
  select(iid, sinc1_1, sinc1_2, sinc1_3, match)
df_1_b = unique(df_1_b)

g_1_b = ggparcoord(df_1_b, columns = c(2:4), scale = "uniminmax", alphaLines = 0.75) +
  xlab("Variables") +
  ylab("Normalized ratings/match values") +
  ggtitle("Perception of Sincerity with time")



df_1_c = df_a %>% 
  select(iid, intel1_1, intel1_2, intel1_3, match)
df_1_c = unique(df_1_c)

g_1_c = ggparcoord(df_1_c, columns = c(2:4), scale = "uniminmax", alphaLines = 0.75) +
  xlab("Variables") +
  ylab("Normalized ratings/match values") +
  ggtitle("Perception of Intelligence with time")



df_1_d = df_a %>% 
  select(iid, fun1_1, fun1_2, fun1_3, match)
df_1_d = unique(df_1_d)

g_1_d = ggparcoord(df_1_d, columns = c(2:4), scale = "uniminmax", alphaLines = 0.75) +
  xlab("Variables") +
  ylab("Normalized ratings/match values") +
  ggtitle("Perception of Fun with time")



df_1_e = df_a %>% 
  select(iid, amb1_1, amb1_2, amb1_3, match)
df_1_e = unique(df_1_e)

g_1_e = ggparcoord(df_1_e, columns = c(2:4), scale = "uniminmax", alphaLines = 0.75) +
  xlab("Variables") +
  ylab("Normalized ratings/match values") +
  ggtitle("Perception of Ambition with time")

g_1_123 = (g_1_a + g_1_b)/(g_1_c + g_1_d)/g_1_e
g_1_123
```

Here are the interpretations from the above plot:

1) For Attractiveness

Since most lines go slightly upwards from `attr1_1` to `attr1_2`, we can say that people give slightly more importance to the attractiveness of the other person a day after the speed dating experiment. From `attr1_2` to `attr1_3`, most lines go upward but some go downward. Hence, in general, most people give significant importance to the attractiveness of the partner. We can observe that few people drastically bring their rating from 25% to 100%, while some people reach 0% rating in 3-4 weeks.

2) For Sincerity

Since most lines go upwards from `sinc1_1` to `sinc1_2`, we can say that people give more importance to the sincerity of the other person the next day. From `sinc1_2` to `sinc1_3`, most lines go downward indicating that as most time passes (line 3-4 weeks), most people give less importance to the sincerity of the partner.

3) For Intelligence

Most lines go upwards from `intel1_1` to `intel1_2`, some go downward, and some remain steady (especially the one with zero rating). Generally speaking, we can say that people give more intelligence to the sincerity right after the speed dating experiment. From `intel1_2` to `intel1_3`, most lines remain steady, many go downward, and some go upward indicating that as most people remain around at similar levels or remain indifferent of their partner's intelligence.

4) For Fun

There does not seem to be a pattern from `fun1_1` to `fun1_2` or from `fun1_2` to `fun1_3` since many lines go upward and downward both times. Moreover, the variation in the range of ratings keep increasing from `fun1_1` to `fun1_3`. Here too, the ratings of people with zero rating remained steady.

5) For Ambition

Since most lines go upwards from `amb1_1` to `amb1_2`, we can say that people give more importance to the ambition of the other person the next day. From `amb1_2` to `amb1_3`, most lines go downward indicating that as most time passes (line 3-4 weeks), most people give less importance to the ambition of the partner. Here too, the ratings of people with zero rating remained steady. Moreover, some drastic increase (about 60% to 100%) and decrease (60% to 0%) of the importance of ambition is observed from `amb1_1` to `amb1_3`.




